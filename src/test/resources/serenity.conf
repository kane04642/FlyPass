webdriver {

    driver = chrome

    capabilities {
      browserName = "chrome",
      acceptInsecureCerts = true,

      "goog:chromeOptions" {

        args = [
                "incognito",
                "start-maximized",
                "--use-fake-ui-for-media-stream",
                "--use-fake-device-for-media-stream",
                "no-sandbox",
                "ignore-certificate-errors",
                "disable-default-apps",
                "disable-extensions-file-access-check",
                "disable-infobars",
                "disable-gpu",
                "disable-notifications",
                "disable-popup-blocking",
                #"headless=chrome"
        ]
          prefs {
              handlesAlerts = true,
              common.unexpectedAlertBehaviour = ignore,
              default_content_settings.popups = 0,
              default_content_settings.geolocation = 2,
              credentials_enable_service = false,
              password_manager_enabled = false
          }

        excludeSwitches = ["enable-automation","load-extension"]
      }

      timeouts {
        implicit = 15000
        pageLoad = 300000
      }
    }
    wait.for.timeout = 20000
}
########################################################################################################################
# Configuraci贸n de serenity                                                                                            #
########################################################################################################################
serenity {
    # Captura de pantalla
    take.screenshots = AFTER_EACH_STEP
    # Tiempo entre acci贸n
    step.delay = 2000
    report {
       accessibility = true
    }
    project {
        name = "Autenticaci贸n"
    }

    console.colors=true
    verbose.steps=true
    console.headings=ascii
    logging=VERBOSE
}

########################################################################################################################
# Configuraci贸n del endpoint por ambiente                                                                              #
########################################################################################################################
environments{
    default{
        webdriver.base.url = "https://lemon-bay-0f9102d0f-qa.eastus2.5.azurestaticapps.net/#/authentication/signin"
    }
    qa{
        webdriver.base.url = "https://lemon-bay-0f9102d0f-qa.eastus2.5.azurestaticapps.net/#/authentication/signin"
    }
    prod{
        webdriver.base.url = "https://portal.grupoemi.com/welcome"
    }
}
