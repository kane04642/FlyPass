webdriver {

    driver = chrome

    capabilities {
      browserName = "chrome",
      acceptInsecureCerts = true,

      "goog:chromeOptions" {

        args = [
                "incognito",
                "start-maximized",
                "--use-fake-ui-for-media-stream",
                "--use-fake-device-for-media-stream",
                "no-sandbox",
                "ignore-certificate-errors",
                "disable-default-apps",
                "disable-extensions-file-access-check",
                "disable-infobars",
                "disable-gpu",
                "disable-notifications",
                "disable-popup-blocking",
                #"headless=chrome"
        ]
          prefs {
              handlesAlerts = true,
              common.unexpectedAlertBehaviour = ignore,
              default_content_settings.popups = 0,
              default_content_settings.geolocation = 2,
              credentials_enable_service = false,
              password_manager_enabled = false
          }

        excludeSwitches = ["enable-automation","load-extension"]
      }

      timeouts {
        implicit = 15000
        pageLoad = 300000
      }
    }
    wait.for.timeout = 20000
}
########################################################################################################################
# Configuración de serenity                                                                                            #
########################################################################################################################
serenity {
    # Captura de pantalla
    take.screenshots = AFTER_EACH_STEP
    # Tiempo entre acción
    step.delay = 2000
    report {
       accessibility = true
    }
    project {
        name = "F2X FlyPass"
    }

    console.colors=true
    verbose.steps=true
    console.headings=ascii
    logging=VERBOSE
}

########################################################################################################################
# Configuración del endpoint por ambiente                                                                              #
########################################################################################################################
environments{
    default{
        webdriver.base.url = "https://www.saucedemo.com/"
    }
    qa{
        webdriver.base.url = "https://www.saucedemo.com/"
    }

    dev{
        webdriver.base.url = "https://www.saucedemoDEV.com/"
    }

}
## Configuración de ussuario
users {
  standard_user {
    username = "standard_user"
    password = "secret_sauce"
  }

  locked {
    username = "locked_out_user"
    password = "secret_sauce"
  }

}
########################################################################################################################
# Configuración reportes JUnit                                                                             #
########################################################################################################################
# Habilitar reportes JUnit
serenity {
  test.root = "com.tuempresa"
  outputDirectory = "target/site/serenity"

  # Configurar para generar reportes JUnit
  junit {
    enabled = true
  }
}

# Configurar el formato de salida para los reports
environments {
  default {
    serenity.outputDirectory = "target/site/serenity"
  }
}