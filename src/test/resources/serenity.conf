webdriver {

    driver = chrome

    capabilities {
      browserName = "chrome",
      acceptInsecureCerts = true,

      "goog:chromeOptions" {

        args = [
                "incognito",
                "start-maximized",
                "--use-fake-ui-for-media-stream",
                "--use-fake-device-for-media-stream",
                "no-sandbox",
                "ignore-certificate-errors",
                "disable-default-apps",
                "disable-extensions-file-access-check",
                "disable-infobars",
                "disable-gpu",
                "disable-notifications",
                "disable-popup-blocking",
                "headless=chrome"
        ]
          prefs {
              handlesAlerts = true,
              common.unexpectedAlertBehaviour = ignore,
              default_content_settings.popups = 0,
              default_content_settings.geolocation = 2,
              credentials_enable_service = false,
              password_manager_enabled = false
          }

        excludeSwitches = ["enable-automation","load-extension"]
      }

      timeouts {
        implicit = 15000
        pageLoad = 300000
      }
    }
    wait.for.timeout = 20000
}
########################################################################################################################
# Configuración de serenity                                                                                            #
########################################################################################################################
serenity {
    # Captura de pantalla
    take.screenshots = AFTER_EACH_STEP
    # Tiempo entre acción
    step.delay = 2000
    report {
       accessibility = true
    }
    project {
        name = "SO Cloud"
    }

    console.colors=true
    verbose.steps=true
    console.headings=ascii
    logging=VERBOSE
}

########################################################################################################################
# Configuración del endpoint por ambiente                                                                              #
########################################################################################################################
environments{
    default{
        webdriver.base.url = "https://login.microsoftonline.com/a5610bb0-e1a3-463a-a9dc-4b0aa47dceb5/oauth2/v2.0/authorize?client_id=072751bd-85b1-4aae-a86a-bf5f22a9cb6d&scope=openid%20profile%20offline_access&redirect_uri=https%3A%2F%2Fsocloud-qa.grupoemi.com%2Fauth%2Flogin&client-request-id=0197b21b-3750-728f-988f-0067ec0a5fe4&response_mode=fragment&client_info=1&nonce=0197b21b-3751-7f50-b0ab-c6e1044595a2&state=eyJpZCI6IjAxOTdiMjFiLTM3NTEtNzg0OS1iNmFhLTc0NTJlZWY0N2QwYyIsIm1ldGEiOnsiaW50ZXJhY3Rpb25UeXBlIjoicmVkaXJlY3QifX0%3D&x-client-SKU=msal.js.browser&x-client-VER=4.12.0&response_type=code&code_challenge=vA2bGHBAlDZdcdK56iPSLEwYJB63QfI3J-zCE1fLQRQ&code_challenge_method=S256&sso_reload=true"
    }
    qa{
        webdriver.base.url = "https://login.microsoftonline.com/a5610bb0-e1a3-463a-a9dc-4b0aa47dceb5/oauth2/v2.0/authorize?client_id=072751bd-85b1-4aae-a86a-bf5f22a9cb6d&scope=openid%20profile%20offline_access&redirect_uri=https%3A%2F%2Fsocloud-qa.grupoemi.com%2Fauth%2Flogin&client-request-id=0197b21b-3750-728f-988f-0067ec0a5fe4&response_mode=fragment&client_info=1&nonce=0197b21b-3751-7f50-b0ab-c6e1044595a2&state=eyJpZCI6IjAxOTdiMjFiLTM3NTEtNzg0OS1iNmFhLTc0NTJlZWY0N2QwYyIsIm1ldGEiOnsiaW50ZXJhY3Rpb25UeXBlIjoicmVkaXJlY3QifX0%3D&x-client-SKU=msal.js.browser&x-client-VER=4.12.0&response_type=code&code_challenge=vA2bGHBAlDZdcdK56iPSLEwYJB63QfI3J-zCE1fLQRQ&code_challenge_method=S256&sso_reload=true"
    }
    prod{
        webdriver.base.url = "https://portal.grupoemi.com/welcome"
    }
}
## Configuración de ussuario
users {
  paramedico {
    username = "daniel.contreras@grupoemi.com"
    password = "Colombia2025*"
  }
  # Puedes añadir más actores aquí
  otro_actor {
    username = "usuario_otro"
    password = "password_otro"
  }
}
